function debounced(fn, delay){
    let timerId
    let aguments
    let thisContext
    function fn(...args){
        cancel()
        arguments=args
        thisContext=this;
        timeId= setTimeout(()=>{
            flush()
        },delay)
        
    }
    function cancel(){
        if(timerId){
            clearTimeout(timerId)
            timerId=null
        }
    }
    function flush(){
        if(timerId){
            fn.call(thisContext,...arguments)
            cancel()
            
        }
        
        
    }
        
    }
    fn.cancel= cancel
    fn.flush=flush
    retunr fn;
    
        
    
}
